(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();class d{checkRoundWinner(e,n){if(!e.getCurrentPlay()||!n.getCurrentPlay())return null;const r={rock:"scissors",paper:"rock",scissors:"paper"};if(e.getCurrentPlay()===n.getCurrentPlay())return null;const[t,s]=[e.getCurrentPlay(),n.getCurrentPlay()];return t!==null&&s!==null?r[t]===s?(e.incrementCurrentPoints(),e):(n.incrementCurrentPoints(),n):null}declareWinner(e,n){const[r,t]=[e.getCurrentPoints(),n.getCurrentPoints()];return r===t?null:r>t?e:n}}class m{constructor(){this.currentPlay=null,this.currentPoints=0,this.name="Cpu"}getName(){return this.name}getCurrentPlay(){return this.currentPlay}getPlayerPrompt(e){return null}makePlay(e){this.currentPlay=e}autoPlay(e){const n=Math.floor(Math.random()*e.length);this.makePlay(e[n])}getCurrentPoints(){return this.currentPoints}incrementCurrentPoints(){this.currentPoints++}}class y{constructor(){this.currentPlay=null,this.currentPoints=0,this.name="Player"}getName(){return this.name}makePlay(e){this.currentPlay=e}getPlayerPrompt(e){const n=prompt(`Enter your play (${e.join(", ")}): `);return n&&e.includes(n)?n:null}getCurrentPlay(){return this.currentPlay}getCurrentPoints(){return this.currentPoints}incrementCurrentPoints(){this.currentPoints++}}class p{constructor(){this.availablePlays=["rock","paper","scissors"],this.isGameOver=!1,this.roundsToWin=0,this.currentRound=0}setRoundsToWin(e){this.roundsToWin=e}setIsGameOver(){this.isGameOver=!0}incrementRoundsToWin(){this.roundsToWin++}getIsGameOver(){return this.isGameOver}getRoundsToWin(){return this.roundsToWin}getCurrentRound(){return this.currentRound}getAvailablePlays(){return this.availablePlays}checkIfSessionIsOver(){if(this.getCurrentRound()>=this.getRoundsToWin())this.setIsGameOver();else return null}}function c(o){return new Promise(e=>setTimeout(e,o))}class g{constructor(e,n,r,t,s){this.getPrompt=prompt,this.gameMatch=e,this.player=n,this.cpu=r,this.ruleset=t,this.userInterface=s}startGame(){const e=this.gameMatch.getAvailablePlays();this.userInterface.renderRulesButton();const n=async()=>{this.userInterface.cleanWinnersContainer(),this.userInterface.renderAvailablePlays(e);const t=await this.userInterface.getUserPlay();this.player.makePlay(t),this.userInterface.renderUserPlay(t),this.userInterface.cleanAfterPlaySelect(),await c(1300),this.cpu.autoPlay(e);const s=this.cpu.getCurrentPlay();this.userInterface.renderCpuPlay(s);const a=this.ruleset.checkRoundWinner(this.player,this.cpu);await c(600),this.userInterface.renderRoundWinner(a),(a==null?void 0:a.getName())=="Player"&&this.userInterface.updatePlayerScore(this.player.getCurrentPoints()),await c(1e3),this.userInterface.renderPlayAgainButton(()=>{n()})};let r=this.player.getCurrentPoints();this.userInterface.renderScoreboard(e,r),n()}}const h="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%3e%3cpath%20fill='%233B4262'%20d='M45.06%2012.22c-.642-8.096-9.734-7.269-9.734-7.269-3.837-6.765-9.832-1.865-9.832-1.865-4.606-6.63-10.38-.486-10.38-.486-9.957-1.074-9.571%207.066-9.571%207.066-.234%202.588%201.403%2010.593%201.403%2010.593-1.477-4.614-4.68-.784-4.68-.784-3.94%206.078-.975%209.405-.975%209.405%205.33%206.246%2016.688%2013.743%2016.688%2013.743%204.113%202.356%202.373%204.457%202.373%204.457l24.876-4.11.571-4.718c3.782-11.436-.739-26.032-.739-26.032z'/%3e%3c/svg%3e",P="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='49'%20height='59'%3e%3cpath%20fill='%233B4262'%20d='M47.125%2011.832a2.922%202.922%200%2000-1.232-.198c-.57.04-1.029.271-1.302.65-1.604%202.248-2.919%206.493-3.979%209.905-.486%201.577-1.14%203.688-1.612%204.69-.493-2.807.064-13.09.28-17.05l.003-.064c.15-2.751.17-3.234.138-3.446-.238-1.509-.843-2.5-1.799-2.943-.966-.45-2.22-.25-3.572.563-.677.41-.865%201.816-1.446%208.19l-.002.028c-.32%203.502-1.058%2011.566-1.965%2012.91-1.023-1.88-2.431-12.555-3.039-17.176-.425-3.236-.673-5.094-.84-5.655-.35-1.176-1.83-2.176-3.295-2.232-1.22-.06-2.22.56-2.698%201.638-.894.995-.578%204.292.41%2012.102.47%203.718%201.44%2011.395.83%2012.257-1.219-.133-3.31-4.942-6.215-14.299-.816-2.62-1.068-3.408-1.318-3.753-.494-1.202-2.172-2.129-3.676-2.024a3.183%203.183%200%2000-.377.049c-.787.156-2.584.881-2.2%204.226%201.06%204.637%202.213%208.041%203.331%2011.346l.023.066c.669%201.98%201.302%203.85%201.89%205.925%201.385%204.9.846%207.94.84%207.975-.046.312-.143.503-.288.57a.556.556%200%2001-.195.045c-.44.03-1.098-.26-1.437-.45-.776-1.482-4.636-8.544-8.134-9.524l-.126-.037-.127.012c-1.283.121-2.226.606-2.803%201.441-.914%201.32-.535%203.002-.444%203.34l.052.12c.028.051%202.834%205.165%203.268%207.544.374%202.04%202.311%204.25%203.869%206.026l.064.073c.508.58.946%201.083%201.292%201.548%204.519%204.713%2011.665%208.677%2011.723%208.71.892.657%201.387%201.293%201.44%201.84a.798.798%200%2001-.16.58l-.155.162.988.96%2018.853-1.324.804-3.684c2.486-10.402%201.967-19.272%201.958-19.33.01-.327.706-3.483%201.266-6.033l.017-.065c1.117-5.08%202.505-11.4%202.772-13.803.116-1.028-.542-1.972-1.675-2.401z'/%3e%3c/svg%3e",f="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='51'%20height='58'%3e%3cpath%20fill='%233B4262'%20d='M13.971%2025.702l6.012-8.415c-2.499-.415-7.088-.507-10.846%203.235C3.212%2026.421.812%2039.163.312%2042.248L15.37%2057.24c2.711-.232%2014.713-1.827%2026.279-13.34.122-.249%202.94-2.321.636-4.614-1.1-1.095-2.919-1.074-4.042.044-.572.57-1.461.577-2.021.02-.56-.557-.552-1.443.02-2.012l4.087-4.069c2.076-2.067.119-5.555-2.78-4.717l-3.345%202.851c-.611.53-1.52.439-2.022-.14-.519-.597-.408-1.503.183-2.013%2011.687-10.208%209.98-8.979%2017.5-15.995%202.809-2.329-.725-6.447-3.493-4.09L28.182%2025.45c-.529.448-1.34.457-1.86-.02-.601-.517-.615-1.262-.222-1.85L38.787%203.944c1.854-2.5-1.795-5.277-3.749-2.757L16.28%2027.307c-.452.65-1.364.8-1.985.345a1.377%201.377%200%2001-.323-1.95z'/%3e%3c/svg%3e",v="/rock-paper-scissors/assets/image-rules-A0LhRin-.svg",C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%3e%3cpath%20fill='%233B4262'%20fill-rule='evenodd'%20d='M16.97%200l2.122%202.121-7.425%207.425%207.425%207.425-2.121%202.12-7.425-7.424-7.425%207.425L0%2016.97l7.425-7.425L0%202.121%202.121%200l7.425%207.425L16.971%200z'%20opacity='.25'/%3e%3c/svg%3e",l={rock:h,paper:P,scissors:f};class I{constructor(){this.userPlayResolver=null,this.cpuPlayResolver=null,this.gameMode="classic"}promptForMode(e){}cleanWinnersContainer(){document.getElementById("plays-container").classList.remove("hide");const n=document.getElementById("player-play-container");n.innerHTML="";const r=document.getElementById("cpu-play-container");r.innerHTML="";const t=document.getElementById("winner-container");t.innerHTML="";const s=document.getElementById("footer");s.style.marginTop="0"}cleanAfterPlaySelect(){document.getElementById("results-container").classList.remove("hide"),document.getElementById("plays-container").classList.add("hide");const r=document.getElementById("available-plays");r.innerHTML="";const t=document.getElementById("footer");t.style.marginTop="3rem"}renderScoreboard(e,n){const r=document.getElementById("scoreboard-container"),t=document.getElementById("scoreboard-plays"),s=document.getElementById("scoreboard-score"),a=document.getElementById("score-points");a.innerText=`${n}`,s.append(a),e.forEach(u=>{const i=document.createElement("p");i.innerText=`${u.toUpperCase()}`,t.append(i)}),r.append(t,s)}updatePlayerScore(e){const n=document.getElementById("score-points");n.innerHTML="",n.innerText=`${e}`}renderAvailablePlays(e){const n=document.getElementById("plays-container"),r=document.getElementById("available-plays");if(!n||!r)throw new Error("Containers not found in DOM");e.forEach(t=>{const s=document.createElement("div"),a=document.createElement("button");s.classList.add("button_outline"),s.classList.add(`button_outline_${t}`),a.style.backgroundImage=`url(${l[t]})`,console.log(l[t]),a.onclick=()=>{this.userPlayResolver&&(this.userPlayResolver(t),this.userPlayResolver=null)},s.append(a),r.append(s)}),n.append(r)}getUserPlay(){return new Promise(e=>{this.userPlayResolver=e})}getCpuPlay(){return new Promise(e=>{this.cpuPlayResolver=e})}renderUserPlay(e){const n=document.createElement("div"),r=document.createElement("button"),t=document.createElement("p");t.innerText="YOU PICKED",r.style.backgroundImage=`url(${l[e]})`,n.classList.add("button_outline"),n.classList.add(`button_outline_${e}`),n.append(r),document.getElementById("player-play-container").append(n,t)}renderCpuPlay(e){const n=document.getElementById("cpu-play-container"),r=document.createElement("div"),t=document.createElement("button"),s=document.createElement("p");s.innerText="THE HOUSE PICKED",t.style.backgroundImage=`url(${l[e]})`,r.classList.add("button_outline"),r.classList.add(`button_outline_${e}`),r.append(t),n.append(r,s)}renderRoundWinner(e){document.getElementById("results-container").classList.remove("hide");const r=document.getElementById("winner-container"),t=document.getElementById("winner-container"),s=document.createElement("p"),a=e==null?void 0:e.getName();t&&e!==null?a!=="Player"?s.innerText="YOU LOSE":s.innerText="YOU WIN":s.innerText="Tie",r.append(s),t.append(s)}renderPlayAgainButton(e){const n=document.getElementById("winner-container"),r=document.createElement("div");r.classList.add("play_again_button");const t=document.createElement("button");t.innerText="PLAY AGAIN",t.addEventListener("click",e),r.append(t),n.append(r)}renderRulesButton(){const e=document.createElement("button");e.innerText="RULES",document.getElementById("footer").append(e),e.addEventListener("click",()=>{const r=document.createElement("div");r.id="rules-overlay",r.classList.add("rules_overlay");const t=document.createElement("div");t.id="rules-modal",t.classList.add("rules_modal"),t.style.backgroundImage=`url(${v})`;const s=document.createElement("p");s.innerText="RULES";const a=document.createElement("div");a.style.backgroundImage=`url(${C})`,a.id="close-rules",a.classList.add("close_rules"),t.append(a,s),r.append(t),document.body.append(r),document.getElementById("close-rules").addEventListener("click",()=>{document.body.removeChild(r)})})}}const E=new y,b=new m,w=new d,L=new p,B=new I,T=new g(L,E,b,w,B);T.startGame();
